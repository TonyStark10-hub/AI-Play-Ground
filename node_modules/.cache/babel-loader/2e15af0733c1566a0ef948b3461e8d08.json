{"ast":null,"code":"var _jsxFileName = \"/Users/tony/Desktop/aiplayground/src/FaceLandMark.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, Component } from 'react';\nimport * as tf from '@tensorflow/tfjs';\nimport * as facemesh from '@tensorflow-models/face-landmarks-detection';\nimport Webcam from 'react-webcam';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction FaceLandMark() {\n  _s();\n\n  const webcamRef = useRef(null);\n  const canvaseRef = useRef(null);\n\n  const runFacemesh = async () => {\n    const net = await facemesh.load(facemesh.SupportedPackages.mediapipeFacemesh);\n    setInterval(() => {\n      detect(net);\n    }, 100);\n  };\n\n  const detect = async net => {\n    if (typeof webcamRef.current !== 'undefined' && webcamRef.current !== null && webcamRef.current.video.readyState === 4) {\n      // get Video properties\n      const video = webcamRef.current.video;\n      const videoWidth = webcamRef.current.video.videoWidth;\n      const videoheight = webcamRef.current.video.videoHeight; // Set video width and height\n\n      webcamRef.current.video.width = videoWidth;\n      webcamRef.current.video.height = videoheight; // Set canvas width and height\n\n      canvaseRef.current.width = videoWidth;\n      canvaseRef.current.height = videoheight; //Make detections\n\n      const face = await net.estimateFaces({\n        input: video\n      }); //console.log(face);\n      //Get canvas context\n\n      const ctx = canvaseRef.current.getContext('2d'); //requestAnimationFrame(()=>{drawMesh(face,ctx)});\n    }\n  }; //Load facemesh \n\n\n  useEffect(() => {\n    runFacemesh();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: [/*#__PURE__*/_jsxDEV(Webcam, {\n        ref: webcamRef,\n        style: {\n          position: 'absolute',\n          marginLeft: 'auto',\n          marginRight: 'auto',\n          left: 0,\n          right: 0,\n          textAlign: 'center',\n          zIndex: 9,\n          width: 640,\n          height: 480\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvaseRef,\n        style: {\n          position: 'absolute',\n          marginLeft: 'auto',\n          marginRight: 'auto',\n          left: 0,\n          right: 0,\n          textAlign: 'center',\n          zIndex: 9,\n          width: 640,\n          height: 480\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 7\n  }, this);\n}\n\n_s(FaceLandMark, \"mkrq7ruYYxFQZ/gqeyooZy3lQeQ=\");\n\n_c = FaceLandMark;\nexport default FaceLandMark;\n\nvar _c;\n\n$RefreshReg$(_c, \"FaceLandMark\");","map":{"version":3,"sources":["/Users/tony/Desktop/aiplayground/src/FaceLandMark.js"],"names":["React","useEffect","useRef","Component","tf","facemesh","Webcam","FaceLandMark","webcamRef","canvaseRef","runFacemesh","net","load","SupportedPackages","mediapipeFacemesh","setInterval","detect","current","video","readyState","videoWidth","videoheight","videoHeight","width","height","face","estimateFaces","input","ctx","getContext","position","marginLeft","marginRight","left","right","textAlign","zIndex"],"mappings":"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","sourcesContent":["import React , { useEffect, useRef, Component } from 'react';\nimport * as tf  from '@tensorflow/tfjs';\nimport * as facemesh from '@tensorflow-models/face-landmarks-detection';\nimport Webcam from 'react-webcam';\n\n\nfunction FaceLandMark() {\n    const webcamRef = useRef(null);\n    const canvaseRef = useRef(null);\n  \n  \n    const runFacemesh = async () =>  {\n      const net = await facemesh.load(facemesh.SupportedPackages.mediapipeFacemesh);\n      setInterval(()=>{\n        detect(net);\n      },100);\n    };\n    \n    const detect = async(net) => {\n      if (\n        typeof webcamRef.current !== 'undefined' &&\n        webcamRef.current !== null &&\n        webcamRef.current.video.readyState === 4\n        ){\n          // get Video properties\n          const video = webcamRef.current.video;\n          const videoWidth = webcamRef.current.video.videoWidth;\n          const videoheight = webcamRef.current.video.videoHeight;\n  \n          // Set video width and height\n          webcamRef.current.video.width=videoWidth;\n          webcamRef.current.video.height=videoheight;\n  \n          // Set canvas width and height\n          \n          canvaseRef.current.width=videoWidth;\n          canvaseRef.current.height=videoheight;\n  \n          //Make detections\n  \n          const face = await net.estimateFaces({input:video});\n          //console.log(face);\n  \n          //Get canvas context\n          const ctx = canvaseRef.current.getContext('2d');\n          //requestAnimationFrame(()=>{drawMesh(face,ctx)});\n  \n        }\n    }\n  \n    //Load facemesh \n    \n    useEffect(()=>{runFacemesh()},[])\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <Webcam\n           ref = {webcamRef}\n           style = {{\n             position:'absolute',\n             marginLeft:'auto',\n             marginRight:'auto',\n             left: 0,\n             right: 0,\n             textAlign: 'center',\n             zIndex: 9,\n             width: 640,\n             height: 480,\n           }}\n          />\n          <canvas\n          ref = {canvaseRef}\n          style = {{\n            position:'absolute',\n            marginLeft:'auto',\n            marginRight:'auto',\n            left: 0,\n            right: 0,\n            textAlign: 'center',\n            zIndex: 9,\n            width: 640,\n            height: 480,\n          }} \n          />\n        </header>\n      </div>\n    );\n  }\n  \n  export default FaceLandMark;"]},"metadata":{},"sourceType":"module"}